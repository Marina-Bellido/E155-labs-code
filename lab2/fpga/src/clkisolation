// Marina Bellido 
// mbellido@hmc.edu
// 2/9/2025
// Lab2: clockisolation -> TODO EXPLANATION
	

module clockisolation(
     input logic reset, clk,
	 output logic clk_signal);
	//Lab1 starter code: Blink at 2.4Hz
   logic int_osc;
   logic [23:0] counter; //initializing counter
  
   // Internal high-speed oscillator
   HSOSC #(.CLKHF_DIV(2'b01)) 
         hf_osc (.CLKHFPU(1'b1), .CLKHFEN(1'b1), .CLKHF(int_osc));
   // Counter
   always_ff @(posedge int_osc, negedge reset) begin
     if(reset == 0) begin
		 counter <= 0;
		 clk_signal <= 0;
	 end else begin           
		 if(counter == 23'd4_999_999)begin  //5M cycles to flip the LED
			 counter <= 0;
			 clk_signal <= ~clk_signal; //flip the LED
		 end else begin
			counter <= counter + 1;
		 end
		 end
     end 
endmodule
